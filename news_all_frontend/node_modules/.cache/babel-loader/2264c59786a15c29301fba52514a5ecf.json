{"ast":null,"code":"import React,{useEffect}from\"react\";import{useNavigate,useParams,Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";// COMPONENT IMPORT\nimport Loaders from\"../components/Loader\";import ErrorMessage from\"../components/ErrorMessage\";// CSS IMPORT\nimport\"../css_styles/Advertise.css\";// CONSTANT IMPORT\nimport{SHOP_CREATE_RESET,SHOP_DELETE_RESET}from\"../constants/productivityConstants\";// ACTION IMPORT\nimport{shopListAction,shopCreateAction,shopDeleteAction}from\"../actions/advertiseActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShopCreate=function ShopCreate(){var navigate=useNavigate();var dispatch=useDispatch();var params=useParams();// const { id } = params;\n// SHOP CREATE\nvar shopCreate=useSelector(function(state){return state.shopCreate;});var createShopError=shopCreate.error,createShopLoading=shopCreate.loading,createShop=shopCreate.shop,createShopSuccess=shopCreate.success;// SHOP LIST\nvar shopList=useSelector(function(state){return state.shopList;});var listShopError=shopList.error,listShopLoading=shopList.loading,listShop=shopList.shops;// SHOP DELETE\nvar shopDelete=useSelector(function(state){return state.shopDelete;});var deleteShopError=shopDelete.error,deleteShopLoading=shopDelete.loading,deleteShop=shopDelete.shop,deleteShopSuccess=shopDelete.success;// USEEFFECT\nuseEffect(function(){dispatch(shopListAction());dispatch({type:SHOP_CREATE_RESET});dispatch({type:SHOP_DELETE_RESET});if(createShopSuccess){navigate(\"/shop-update/\".concat(createShop.id,\"/\").concat(createShop.slug));}},[dispatch,createShopSuccess,deleteShopSuccess,deleteShop]);// CREATE SHOP HANDLER\nvar shopCreateHandler=function shopCreateHandler(){dispatch(shopCreateAction());};// DELETE SHOP HANDLER\nvar shopDeleteHandler=function shopDeleteHandler(id,slug){if(window.confirm(\"Are You Sure You Want To Delete This Items\")){dispatch(shopDeleteAction(id,slug));}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",flexDirection:\"column\",margin:\"50px\"},children:[/*#__PURE__*/_jsx(\"div\",{children:createShopError?/*#__PURE__*/_jsx(ErrorMessage,{type:\"error\",error:createShopError}):createShopError?/*#__PURE__*/_jsx(Loaders,{}):/*#__PURE__*/_jsx(\"button\",{onClick:shopCreateHandler,children:\"Create Shops Post\"})}),listShopLoading?/*#__PURE__*/_jsx(Loaders,{}):listShopError?/*#__PURE__*/_jsx(ErrorMessage,{type:\"error\",error:listShopError}):/*#__PURE__*/_jsxs(\"div\",{className:\"post_table\",children:[deleteShopError&&/*#__PURE__*/_jsx(ErrorMessage,{type:\"error\",error:deleteShopError}),/*#__PURE__*/_jsxs(\"table\",{className:\"post_scroll\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"post_header\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"isApproved\"}),/*#__PURE__*/_jsx(\"th\",{children:\"edit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:listShop.map(function(shop){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:shop.id}),/*#__PURE__*/_jsx(\"td\",{children:shop.title}),/*#__PURE__*/_jsx(\"td\",{children:shop.isApproved?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(Link,{to:\"/shop-update/\".concat(shop.id,\"/\").concat(shop.slug),children:/*#__PURE__*/_jsx(\"td\",{children:\"edit\"})}),deleteShopLoading?/*#__PURE__*/_jsx(Loaders,{}):/*#__PURE__*/_jsx(\"td\",{onClick:function onClick(){return shopDeleteHandler(shop.id,shop.slug);},children:\"Delete\"})]});})})]})]})]});};export default ShopCreate;","map":{"version":3,"sources":["/home/cos/Desktop/News_Ad_website/backend/news_all/news_all_frontend/src/createPage/ShopCreate.js"],"names":["React","useEffect","useNavigate","useParams","Link","useDispatch","useSelector","Loaders","ErrorMessage","SHOP_CREATE_RESET","SHOP_DELETE_RESET","shopListAction","shopCreateAction","shopDeleteAction","ShopCreate","navigate","dispatch","params","shopCreate","state","createShopError","error","createShopLoading","loading","createShop","shop","createShopSuccess","success","shopList","listShopError","listShopLoading","listShop","shops","shopDelete","deleteShopError","deleteShopLoading","deleteShop","deleteShopSuccess","type","id","slug","shopCreateHandler","shopDeleteHandler","window","confirm","display","justifyContent","alignItems","flexDirection","margin","map","title","isApproved"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useNavigate, useParams, Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\n// COMPONENT IMPORT\nimport Loaders from \"../components/Loader\";\nimport ErrorMessage from \"../components/ErrorMessage\";\n\n// CSS IMPORT\nimport \"../css_styles/Advertise.css\";\n\n// CONSTANT IMPORT\nimport {\n  SHOP_CREATE_RESET,\n  SHOP_DELETE_RESET,\n} from \"../constants/productivityConstants\";\n\n// ACTION IMPORT\nimport {\n  shopListAction,\n  shopCreateAction,\n  shopDeleteAction,\n} from \"../actions/advertiseActions\";\n\n\n\nconst ShopCreate = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const params = useParams();\n  // const { id } = params;\n\n\n  // SHOP CREATE\n\n  const shopCreate = useSelector((state) => state.shopCreate);\n  const {\n    error:     createShopError,\n    loading:   createShopLoading,\n    shop    :  createShop,\n    success:   createShopSuccess,\n  } = shopCreate;\n\n  // SHOP LIST\n  const shopList = useSelector((state) => state.shopList);\n  const {\n    error:      listShopError,\n    loading:    listShopLoading,\n    shops   :   listShop,\n  } = shopList;\n\n  // SHOP DELETE\n  const shopDelete = useSelector((state) => state.shopDelete);\n  const {\n    error:     deleteShopError,\n    loading:   deleteShopLoading,\n    shop :     deleteShop,\n    success:   deleteShopSuccess,\n  } = shopDelete;\n\n\n  // USEEFFECT\n\n  useEffect(() => {\n    dispatch(shopListAction());\n    dispatch({ type: SHOP_CREATE_RESET });\n    dispatch({ type: SHOP_DELETE_RESET });\n\n    if (createShopSuccess) {\n      navigate(`/shop-update/${createShop.id}/${createShop.slug}`);\n    }\n  }, [dispatch, createShopSuccess, deleteShopSuccess, deleteShop]);\n\n\n  // CREATE SHOP HANDLER\n  const shopCreateHandler = () => {\n    dispatch(shopCreateAction());\n  };\n\n  // DELETE SHOP HANDLER\n  const shopDeleteHandler = (id, slug) => {\n    if (window.confirm(\"Are You Sure You Want To Delete This Items\")) {\n      dispatch(shopDeleteAction(id, slug));\n    }\n  };\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n        margin: \"50px\",\n      }}\n    >\n      <div>\n        {createShopError ? (\n          <ErrorMessage type=\"error\" error={createShopError} />\n        ) : createShopError ? (\n          <Loaders />\n        ) : (\n          <button onClick={shopCreateHandler}>Create Shops Post</button>\n        )}\n      </div>\n\n      {listShopLoading ? (\n        <Loaders />\n      ) : listShopError ? (\n        <ErrorMessage type=\"error\" error={listShopError} />\n      ) : (\n        <div className=\"post_table\">\n          {deleteShopError && (\n            <ErrorMessage type=\"error\" error={deleteShopError} />\n          )}\n          <table className=\"post_scroll\">\n            <thead>\n              <tr className=\"post_header\">\n                <th>id</th>\n                <th>title</th>\n                <th>isApproved</th>\n                <th>edit</th>\n                <th>delete</th>\n              </tr>\n            </thead>\n            <tbody>\n              {listShop.map((shop) => (\n                <tr>\n                  <td>{shop.id}</td>\n                  <td>{shop.title}</td>\n                  <td>{shop.isApproved ? \"Yes\" : \"No\"}</td>\n                  <Link to={`/shop-update/${shop.id}/${shop.slug}`}>\n                    <td>edit</td>\n                  </Link>\n                  {deleteShopLoading ? (\n                    <Loaders />\n                  ) : (\n                    <td onClick={() => shopDeleteHandler(shop.id, shop.slug)}>\n                      Delete\n                    </td>\n                  )}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ShopCreate;\n"]},"metadata":{},"sourceType":"module"}