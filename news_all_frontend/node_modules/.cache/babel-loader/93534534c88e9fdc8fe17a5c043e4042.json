{"ast":null,"code":"import _slicedToArray from\"/home/cos/Desktop/News_Ad_website/backend/news_all/news_all_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useNavigate,Link,useParams}from\"react-router-dom\";import{PROFILE_UPDATE_RESET}from\"../constants/userConstants\";import Loaders from\"../components/Loader\";import ErrorMessage from\"../components/ErrorMessage\";import{userDetailActions,userUpdateActions,profileDetailActions,profileUpdateActions}from\"../actions/userActions\";import\"../css_styles/Signup.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserUpdate=function UserUpdate(){var params=useParams();var profile_id=params.id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),firstName=_useState6[0],setFirstName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),lastName=_useState8[0],setLastName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),state=_useState10[0],setState=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),town=_useState12[0],setTown=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),country=_useState14[0],setCountry=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),pincode=_useState16[0],setPincode=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),phoneNumber=_useState18[0],setPhoneNumber=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),profession=_useState20[0],setProfession=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),isApproved=_useState22[0],setIsApproved=_useState22[1];var navigate=useNavigate();var dispatch=useDispatch();var userDetail=useSelector(function(state){return state.userDetail;});var userUpdate=useSelector(function(state){return state.userUpdate;});var profileDetail=useSelector(function(state){return state.profileDetail;});var profileUpdate=useSelector(function(state){return state.profileUpdate;});var detailUserError=userDetail.error,detailUserLoading=userDetail.loading,detailUser=userDetail.user;var updateUserError=userUpdate.error,updateUserLoading=userUpdate.loading,updateUser=userUpdate.user,updateUserSuccess=userUpdate.success;var detailProfileError=profileDetail.error,detailProfileLoading=profileDetail.loading,profile=profileDetail.profile;var updateProfileError=profileUpdate.error,updateProfileLoading=profileUpdate.loading,updateProfile=profileUpdate.profile,updateProfileSuccess=profileUpdate.success;useEffect(function(){if(updateProfileSuccess){dispatch({type:PROFILE_UPDATE_RESET});navigate('/my-dashboard');}else{if(profile.id!==Number(profile_id)){dispatch(profileDetailActions());}else{setUsername(profile.username);setEmail(profile.email);setFirstName(profile.firstName);setLastName(profile.lastName);setState(profile.state);setTown(profile.town);setCountry(profile.country);setPincode(profile.pincode);setPhoneNumber(profile.phoneNumber);setProfession(profile.profession);setIsApproved(profile.isApproved);}}},[dispatch,updateProfileSuccess,profile]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(profileUpdateActions({id:profile.id,username:username,email:email,firstName:firstName,lastName:lastName,state:state,town:town,country:country,pincode:pincode,phoneNumber:phoneNumber,profession:profession,isApproved:isApproved}));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"signup\",children:/*#__PURE__*/_jsx(\"div\",{className:\"signup_main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"signup_form\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"div\",{className:\"signup_text\",children:/*#__PURE__*/_jsx(\"div\",{className:\"signup_text1\",children:\"LOGIN\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",className:\"input\",type:\"text\",placeholder:\"username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",className:\"input\",type:\"email\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"firstName\",className:\"input\",type:\"text\",placeholder:\"First Name\",value:firstName,onChange:function onChange(e){return setFirstName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"lastName\",className:\"input\",type:\"text\",placeholder:\"Last Name\",value:lastName,onChange:function onChange(e){return setLastName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"State\"}),/*#__PURE__*/_jsx(\"input\",{id:\"state\",className:\"input\",type:\"text\",placeholder:\"State\",value:state,onChange:function onChange(e){return setState(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Town\"}),/*#__PURE__*/_jsx(\"input\",{id:\"text\",className:\"input\",type:\"text\",placeholder:\"town\",value:town,onChange:function onChange(e){return setTown(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(\"input\",{id:\"country\",className:\"input\",type:\"text\",placeholder:\"Country\",value:country,onChange:function onChange(e){return setCountry(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pincode\"}),/*#__PURE__*/_jsx(\"input\",{id:\"pincode\",className:\"input\",type:\"number\",placeholder:\"Pincode\",value:pincode,onChange:function onChange(e){return setPincode(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{id:\"phonenumber\",className:\"input\",type:\"number\",placeholder:\"Phone number\",value:phoneNumber,onChange:function onChange(e){return setPhoneNumber(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Profession\"}),/*#__PURE__*/_jsx(\"input\",{id:\"profession\",className:\"input\",type:\"text\",placeholder:\"Profession\",value:profession,onChange:function onChange(e){return setProfession(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Approved\"}),/*#__PURE__*/_jsx(\"input\",{id:\"profession\",className:\"input\",type:\"text\",placeholder:\"Profession\",value:isApproved,onChange:function onChange(e){return setIsApproved(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signup_button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button_input\",type:\"submit\",children:\"Submit\"})})]}),updateUserLoading&&/*#__PURE__*/_jsx(Loaders,{}),updateUserError&&/*#__PURE__*/_jsx(ErrorMessage,{type:\"error\",error:updateUserError})]})})})});};export default UserUpdate;","map":{"version":3,"sources":["/home/cos/Desktop/News_Ad_website/backend/news_all/news_all_frontend/src/screens/UserUpdate.js"],"names":["React","useState","useEffect","useSelector","useDispatch","useNavigate","Link","useParams","PROFILE_UPDATE_RESET","Loaders","ErrorMessage","userDetailActions","userUpdateActions","profileDetailActions","profileUpdateActions","UserUpdate","params","profile_id","id","username","setUsername","email","setEmail","firstName","setFirstName","lastName","setLastName","state","setState","town","setTown","country","setCountry","pincode","setPincode","phoneNumber","setPhoneNumber","profession","setProfession","isApproved","setIsApproved","navigate","dispatch","userDetail","userUpdate","profileDetail","profileUpdate","detailUserError","error","detailUserLoading","loading","detailUser","user","updateUserError","updateUserLoading","updateUser","updateUserSuccess","success","detailProfileError","detailProfileLoading","profile","updateProfileError","updateProfileLoading","updateProfile","updateProfileSuccess","type","Number","submitHandler","e","preventDefault","target","value"],"mappings":"2LAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,WAAT,CAAsBC,IAAtB,CAA4BC,SAA5B,KAA6C,kBAA7C,CAEA,OAAQC,oBAAR,KAAmC,4BAAnC,CAEA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,OACIC,iBADJ,CAEIC,iBAFJ,CAIIC,oBAJJ,CAKIC,oBALJ,KAOQ,wBAPR,CASA,MAAO,0BAAP,C,6IAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAMC,CAAAA,MAAM,CAAGT,SAAS,EAAxB,CACA,GAAMU,CAAAA,UAAU,CAAGD,MAAM,CAACE,EAA1B,CAFqB,cAMSjB,QAAQ,CAAC,EAAD,CANjB,wCAMhBkB,QANgB,eAMNC,WANM,8BAOGnB,QAAQ,CAAC,EAAD,CAPX,yCAOhBoB,KAPgB,eAOTC,QAPS,8BAQWrB,QAAQ,CAAC,EAAD,CARnB,yCAQhBsB,SARgB,eAQLC,YARK,8BASSvB,QAAQ,CAAC,EAAD,CATjB,yCAShBwB,QATgB,eASNC,WATM,8BAUGzB,QAAQ,CAAC,EAAD,CAVX,0CAUhB0B,KAVgB,gBAUTC,QAVS,gCAWC3B,QAAQ,CAAC,EAAD,CAXT,2CAWhB4B,IAXgB,gBAWVC,OAXU,gCAYO7B,QAAQ,CAAC,EAAD,CAZf,2CAYhB8B,OAZgB,gBAYPC,UAZO,gCAaO/B,QAAQ,CAAC,EAAD,CAbf,2CAahBgC,OAbgB,gBAaPC,UAbO,gCAcejC,QAAQ,CAAC,EAAD,CAdvB,2CAchBkC,WAdgB,gBAcHC,cAdG,gCAeanC,QAAQ,CAAC,EAAD,CAfrB,2CAehBoC,UAfgB,gBAeJC,aAfI,gCAgBarC,QAAQ,CAAC,KAAD,CAhBrB,2CAgBhBsC,UAhBgB,gBAgBJC,aAhBI,gBAoBvB,GAAMC,CAAAA,QAAQ,CAAGpC,WAAW,EAA5B,CAEA,GAAMqC,CAAAA,QAAQ,CAAGtC,WAAW,EAA5B,CAEA,GAAMuC,CAAAA,UAAU,CAAGxC,WAAW,CAAC,SAACwB,KAAD,QAAWA,CAAAA,KAAK,CAACgB,UAAjB,EAAD,CAA9B,CACA,GAAMC,CAAAA,UAAU,CAAGzC,WAAW,CAAC,SAACwB,KAAD,QAAWA,CAAAA,KAAK,CAACiB,UAAjB,EAAD,CAA9B,CAGA,GAAMC,CAAAA,aAAa,CAAG1C,WAAW,CAAC,SAACwB,KAAD,QAAWA,CAAAA,KAAK,CAACkB,aAAjB,EAAD,CAAjC,CACA,GAAMC,CAAAA,aAAa,CAAG3C,WAAW,CAAC,SAACwB,KAAD,QAAWA,CAAAA,KAAK,CAACmB,aAAjB,EAAD,CAAjC,CA7BuB,GAiCZC,CAAAA,eAjCY,CAoCnBJ,UApCmB,CAiCrBK,KAjCqB,CAkCZC,iBAlCY,CAoCnBN,UApCmB,CAkCrBO,OAlCqB,CAmCZC,UAnCY,CAoCnBR,UApCmB,CAmCrBS,IAnCqB,IAuCTC,CAAAA,eAvCS,CA2CnBT,UA3CmB,CAuCnBI,KAvCmB,CAwCTM,iBAxCS,CA2CnBV,UA3CmB,CAwCnBM,OAxCmB,CAyCTK,UAzCS,CA2CnBX,UA3CmB,CAyCnBQ,IAzCmB,CA0CTI,iBA1CS,CA2CnBZ,UA3CmB,CA0CnBa,OA1CmB,IA8CZC,CAAAA,kBA9CY,CAiDnBb,aAjDmB,CA8CrBG,KA9CqB,CA+CZW,oBA/CY,CAiDnBd,aAjDmB,CA+CrBK,OA/CqB,CAgDrBU,OAhDqB,CAiDnBf,aAjDmB,CAgDrBe,OAhDqB,IAoDTC,CAAAA,kBApDS,CAwDnBf,aAxDmB,CAoDnBE,KApDmB,CAqDTc,oBArDS,CAwDnBhB,aAxDmB,CAqDnBI,OArDmB,CAsDTa,aAtDS,CAwDnBjB,aAxDmB,CAsDnBc,OAtDmB,CAuDTI,oBAvDS,CAwDnBlB,aAxDmB,CAuDnBW,OAvDmB,CA2DvBvD,SAAS,CAAC,UAAM,CACd,GAAG8D,oBAAH,CAAwB,CACpBtB,QAAQ,CAAC,CAACuB,IAAI,CAAEzD,oBAAP,CAAD,CAAR,CACAiC,QAAQ,CAAC,eAAD,CAAR,CACH,CAHD,IAGO,CACH,GAAGmB,OAAO,CAAC1C,EAAR,GAAcgD,MAAM,CAACjD,UAAD,CAAvB,CAAqC,CAErCyB,QAAQ,CAAC7B,oBAAoB,EAArB,CAAR,CACC,CAHD,IAGO,CACHO,WAAW,CAACwC,OAAO,CAACzC,QAAT,CAAX,CACAG,QAAQ,CAACsC,OAAO,CAACvC,KAAT,CAAR,CACAG,YAAY,CAACoC,OAAO,CAACrC,SAAT,CAAZ,CACAG,WAAW,CAACkC,OAAO,CAACnC,QAAT,CAAX,CACAG,QAAQ,CAACgC,OAAO,CAACjC,KAAT,CAAR,CACAG,OAAO,CAAC8B,OAAO,CAAC/B,IAAT,CAAP,CACAG,UAAU,CAAC4B,OAAO,CAAC7B,OAAT,CAAV,CACAG,UAAU,CAAC0B,OAAO,CAAC3B,OAAT,CAAV,CACAG,cAAc,CAACwB,OAAO,CAACzB,WAAT,CAAd,CACAG,aAAa,CAACsB,OAAO,CAACvB,UAAT,CAAb,CACAG,aAAa,CAACoB,OAAO,CAACrB,UAAT,CAAb,CAEH,CAER,CACE,CAxBQ,CAwBP,CAAEG,QAAF,CAAYsB,oBAAZ,CAAkCJ,OAAlC,CAxBO,CAAT,CA0BA,GAAMO,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GACA3B,QAAQ,CAAC5B,oBAAoB,CAAC,CAC1BI,EAAE,CAAC0C,OAAO,CAAC1C,EADe,CAE1BC,QAAQ,CAARA,QAF0B,CAG1BE,KAAK,CAALA,KAH0B,CAI1BE,SAAS,CAATA,SAJ0B,CAK1BE,QAAQ,CAARA,QAL0B,CAM1BE,KAAK,CAALA,KAN0B,CAO1BE,IAAI,CAAJA,IAP0B,CAQ1BE,OAAO,CAAPA,OAR0B,CAS1BE,OAAO,CAAPA,OAT0B,CAU1BE,WAAW,CAAXA,WAV0B,CAW1BE,UAAU,CAAVA,UAX0B,CAY1BE,UAAU,CAAVA,UAZ0B,CAAD,CAArB,CAAR,CAgBD,CAlBD,CAoBA,mBACE,sCACE,YAAK,SAAS,CAAC,QAAf,uBACE,YAAK,SAAS,CAAC,aAAf,uBACE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAM,QAAQ,CAAE4B,aAAhB,wBACE,YAAK,SAAS,CAAC,aAAf,uBACE,YAAK,SAAS,CAAC,cAAf,mBADF,EADF,cAIE,aAAK,SAAS,CAAC,kBAAf,wBACE,mCADF,cAEE,cACE,EAAE,CAAC,UADL,CAEE,SAAS,CAAC,OAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,UAJd,CAKE,KAAK,CAAEhD,QALT,CAME,QAAQ,CAAE,kBAACiD,CAAD,QAAOhD,CAAAA,WAAW,CAACgD,CAAC,CAACE,MAAF,CAASC,KAAV,CAAlB,EANZ,EAFF,GAJF,cAeE,aAAK,SAAS,CAAC,kBAAf,wBACE,gCADF,cAEE,cACE,EAAE,CAAC,OADL,CAEE,SAAS,CAAC,OAFZ,CAGE,IAAI,CAAC,OAHP,CAIE,WAAW,CAAC,OAJd,CAKE,KAAK,CAAElD,KALT,CAME,QAAQ,CAAE,kBAAC+C,CAAD,QAAO9C,CAAAA,QAAQ,CAAC8C,CAAC,CAACE,MAAF,CAASC,KAAV,CAAf,EANZ,EAFF,GAfF,cA2BE,aAAK,SAAS,CAAC,kBAAf,wBACE,qCADF,cAEE,cACE,EAAE,CAAC,WADL,CAEE,SAAS,CAAC,OAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,YAJd,CAKE,KAAK,CAAEhD,SALT,CAME,QAAQ,CAAE,kBAAC6C,CAAD,QAAO5C,CAAAA,YAAY,CAAC4C,CAAC,CAACE,MAAF,CAASC,KAAV,CAAnB,EANZ,EAFF,GA3BF,cAuCE,aAAK,SAAS,CAAC,kBAAf,wBACE,oCADF,cAEE,cACE,EAAE,CAAC,UADL,CAEE,SAAS,CAAC,OAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,WAJd,CAKE,KAAK,CAAE9C,QALT,CAME,QAAQ,CAAE,kBAAC2C,CAAD,QAAO1C,CAAAA,WAAW,CAAC0C,CAAC,CAACE,MAAF,CAASC,KAAV,CAAlB,EANZ,EAFF,GAvCF,cAmDE,aAAK,SAAS,CAAC,kBAAf,wBACE,gCADF,cAEE,cACE,EAAE,CAAC,OADL,CAEE,SAAS,CAAC,OAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,OAJd,CAKE,KAAK,CAAE5C,KALT,CAME,QAAQ,CAAE,kBAACyC,CAAD,QAAOxC,CAAAA,QAAQ,CAACwC,CAAC,CAACE,MAAF,CAASC,KAAV,CAAf,EANZ,EAFF,GAnDF,cA+DE,aAAK,SAAS,CAAC,kBAAf,wBACE,+BADF,cAEE,cACE,EAAE,CAAC,MADL,CAEE,SAAS,CAAC,OAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,MAJd,CAKE,KAAK,CAAE1C,IALT,CAME,QAAQ,CAAE,kBAACuC,CAAD,QAAOtC,CAAAA,OAAO,CAACsC,CAAC,CAACE,MAAF,CAASC,KAAV,CAAd,EANZ,EAFF,GA/DF,cA2EE,aAAK,SAAS,CAAC,kBAAf,wBACE,kCADF,cAEE,cACE,EAAE,CAAC,SADL,CAEE,SAAS,CAAC,OAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,SAJd,CAKE,KAAK,CAAExC,OALT,CAME,QAAQ,CAAE,kBAACqC,CAAD,QAAOpC,CAAAA,UAAU,CAACoC,CAAC,CAACE,MAAF,CAASC,KAAV,CAAjB,EANZ,EAFF,GA3EF,cAuFE,aAAK,SAAS,CAAC,kBAAf,wBACE,kCADF,cAEE,cACE,EAAE,CAAC,SADL,CAEE,SAAS,CAAC,OAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,WAAW,CAAC,SAJd,CAKE,KAAK,CAAEtC,OALT,CAME,QAAQ,CAAE,kBAACmC,CAAD,QAAOlC,CAAAA,UAAU,CAACkC,CAAC,CAACE,MAAF,CAASC,KAAV,CAAjB,EANZ,EAFF,GAvFF,cAmGE,aAAK,SAAS,CAAC,kBAAf,wBACE,uCADF,cAEE,cACE,EAAE,CAAC,aADL,CAEE,SAAS,CAAC,OAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,WAAW,CAAC,cAJd,CAKE,KAAK,CAAEpC,WALT,CAME,QAAQ,CAAE,kBAACiC,CAAD,QAAOhC,CAAAA,cAAc,CAACgC,CAAC,CAACE,MAAF,CAASC,KAAV,CAArB,EANZ,EAFF,GAnGF,cA+GE,aAAK,SAAS,CAAC,kBAAf,wBACE,qCADF,cAEE,cACE,EAAE,CAAC,YADL,CAEE,SAAS,CAAC,OAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,YAJd,CAKE,KAAK,CAAElC,UALT,CAME,QAAQ,CAAE,kBAAC+B,CAAD,QAAO9B,CAAAA,aAAa,CAAC8B,CAAC,CAACE,MAAF,CAASC,KAAV,CAApB,EANZ,EAFF,GA/GF,cA2HE,aAAK,SAAS,CAAC,kBAAf,wBACE,mCADF,cAEE,cACE,EAAE,CAAC,YADL,CAEE,SAAS,CAAC,OAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,YAJd,CAKE,KAAK,CAAEhC,UALT,CAME,QAAQ,CAAE,kBAAC6B,CAAD,QAAO5B,CAAAA,aAAa,CAAC4B,CAAC,CAACE,MAAF,CAASC,KAAV,CAApB,EANZ,EAFF,GA3HF,cAyIE,YAAK,SAAS,CAAC,eAAf,uBACE,eAAQ,SAAS,CAAC,cAAlB,CAAiC,IAAI,CAAC,QAAtC,oBADF,EAzIF,GADF,CAgJGjB,iBAAiB,eAAI,KAAC,OAAD,IAhJxB,CAiJGD,eAAe,eACd,KAAC,YAAD,EAAc,IAAI,CAAC,OAAnB,CAA2B,KAAK,CAAEA,eAAlC,EAlJJ,GADF,EADF,EADF,EADF,CA8JD,CAvQD,CAyQA,cAAetC,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useNavigate, Link, useParams } from \"react-router-dom\";\n\nimport {PROFILE_UPDATE_RESET} from \"../constants/userConstants\"\n\nimport Loaders from \"../components/Loader\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport { \n    userDetailActions,\n    userUpdateActions,\n\n    profileDetailActions,\n    profileUpdateActions\n\n } from \"../actions/userActions\";\n\nimport \"../css_styles/Signup.css\";\n\nconst UserUpdate = () => {\n    const params = useParams()\n    const profile_id = params.id\n\n\n\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [state, setState] = useState(\"\");\n  const [town, setTown] = useState(\"\");\n  const [country, setCountry] = useState(\"\");\n  const [pincode, setPincode] = useState(\"\");\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const [profession, setProfession] = useState(\"\");\n  const [isApproved, setIsApproved] = useState(false);\n\n\n\n  const navigate = useNavigate()\n\n  const dispatch = useDispatch();\n\n  const userDetail = useSelector((state) => state.userDetail);\n  const userUpdate = useSelector((state) => state.userUpdate)\n\n\n  const profileDetail = useSelector((state) => state.profileDetail);\n  const profileUpdate = useSelector((state) => state.profileUpdate)\n\n\n  const {\n    error:   detailUserError,\n    loading: detailUserLoading,\n    user   : detailUser,\n  } = userDetail;\n\n  const {\n      error:    updateUserError,\n      loading:  updateUserLoading,\n      user    : updateUser,\n      success : updateUserSuccess\n  } = userUpdate\n\n  const {\n    error:   detailProfileError,\n    loading: detailProfileLoading,\n    profile \n  } = profileDetail;\n\n  const {\n      error:    updateProfileError,\n      loading:  updateProfileLoading,\n      profile : updateProfile,\n      success : updateProfileSuccess\n  } = profileUpdate\n\n\n  useEffect(() => {\n    if(updateProfileSuccess){\n        dispatch({type: PROFILE_UPDATE_RESET})\n        navigate('/my-dashboard')\n    } else {\n        if(profile.id !==Number(profile_id) ){\n\n        dispatch(profileDetailActions())\n        } else {\n            setUsername(profile.username)\n            setEmail(profile.email)\n            setFirstName(profile.firstName)\n            setLastName(profile.lastName)\n            setState(profile.state)\n            setTown(profile.town)\n            setCountry(profile.country)\n            setPincode(profile.pincode)\n            setPhoneNumber(profile.phoneNumber)\n            setProfession(profile.profession)\n            setIsApproved(profile.isApproved)\n\n        }\n\n}\n  },[ dispatch, updateProfileSuccess, profile])\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(profileUpdateActions({\n        id:profile.id,\n        username,\n        email,\n        firstName,\n        lastName,\n        state,\n        town,\n        country,\n        pincode,\n        phoneNumber,\n        profession,\n        isApproved\n    }\n        \n    ));\n  };\n\n  return (\n    <>\n      <div className=\"signup\">\n        <div className=\"signup_main\">\n          <div className=\"signup_form\">\n            <form onSubmit={submitHandler}>\n              <div className=\"signup_text\">\n                <div className=\"signup_text1\">LOGIN</div>\n              </div>\n              <div className=\"signup_container\">\n                <label>username</label>\n                <input\n                  id=\"username\"\n                  className=\"input\"\n                  type=\"text\"\n                  placeholder=\"username\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                />\n              </div>\n              <div className=\"signup_container\">\n                <label>email</label>\n                <input\n                  id=\"email\"\n                  className=\"input\"\n                  type=\"email\"\n                  placeholder=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                />\n              </div>\n\n              <div className=\"signup_container\">\n                <label>First Name</label>\n                <input\n                  id=\"firstName\"\n                  className=\"input\"\n                  type=\"text\"\n                  placeholder=\"First Name\"\n                  value={firstName}\n                  onChange={(e) => setFirstName(e.target.value)}\n                />\n              </div>\n\n              <div className=\"signup_container\">\n                <label>Last Name</label>\n                <input\n                  id=\"lastName\"\n                  className=\"input\"\n                  type=\"text\"\n                  placeholder=\"Last Name\"\n                  value={lastName}\n                  onChange={(e) => setLastName(e.target.value)}\n                />\n              </div>\n\n              <div className=\"signup_container\">\n                <label>State</label>\n                <input\n                  id=\"state\"\n                  className=\"input\"\n                  type=\"text\"\n                  placeholder=\"State\"\n                  value={state}\n                  onChange={(e) => setState(e.target.value)}\n                />\n              </div>\n\n              <div className=\"signup_container\">\n                <label>Town</label>\n                <input\n                  id=\"text\"\n                  className=\"input\"\n                  type=\"text\"\n                  placeholder=\"town\"\n                  value={town}\n                  onChange={(e) => setTown(e.target.value)}\n                />\n              </div>\n\n              <div className=\"signup_container\">\n                <label>Country</label>\n                <input\n                  id=\"country\"\n                  className=\"input\"\n                  type=\"text\"\n                  placeholder=\"Country\"\n                  value={country}\n                  onChange={(e) => setCountry(e.target.value)}\n                />\n              </div>\n\n              <div className=\"signup_container\">\n                <label>Pincode</label>\n                <input\n                  id=\"pincode\"\n                  className=\"input\"\n                  type=\"number\"\n                  placeholder=\"Pincode\"\n                  value={pincode}\n                  onChange={(e) => setPincode(e.target.value)}\n                />\n              </div>\n\n              <div className=\"signup_container\">\n                <label>Phone Number</label>\n                <input\n                  id=\"phonenumber\"\n                  className=\"input\"\n                  type=\"number\"\n                  placeholder=\"Phone number\"\n                  value={phoneNumber}\n                  onChange={(e) => setPhoneNumber(e.target.value)}\n                />\n              </div>\n\n              <div className=\"signup_container\">\n                <label>Profession</label>\n                <input\n                  id=\"profession\"\n                  className=\"input\"\n                  type=\"text\"\n                  placeholder=\"Profession\"\n                  value={profession}\n                  onChange={(e) => setProfession(e.target.value)}\n                />\n              </div>\n\n              <div className=\"signup_container\">\n                <label>Approved</label>\n                <input\n                  id=\"profession\"\n                  className=\"input\"\n                  type=\"text\"\n                  placeholder=\"Profession\"\n                  value={isApproved}\n                  onChange={(e) => setIsApproved(e.target.value)}\n                />\n              </div>\n\n\n\n              <div className=\"signup_button\">\n                <button className=\"button_input\" type=\"submit\">\n                  Submit\n                </button>\n              </div>\n            </form>\n            {updateUserLoading && <Loaders />}\n            {updateUserError && (\n              <ErrorMessage type=\"error\" error={updateUserError} />\n            )}\n\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default UserUpdate;\n"]},"metadata":{},"sourceType":"module"}