{"ast":null,"code":"import React,{useEffect}from\"react\";import{useNavigate,useParams,Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";// COMPONENT IMPORT\nimport Loaders from\"../components/Loader\";import ErrorMessage from\"../components/ErrorMessage\";// CSS IMPORT\nimport\"../css_styles/Advertise.css\";// CONSTANT IMPORT\nimport{EVENT_CREATE_RESET,EVENT_DELETE_RESET}from\"../constants/productivityConstants\";// ACTION IMPORT\nimport{eventListAction,eventCreateAction,eventDeleteAction}from\"../actions/advertiseActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EventCreate=function EventCreate(){var navigate=useNavigate();var dispatch=useDispatch();var params=useParams();// const { id,slug } = params;\n// EVENT CREATE\nvar eventCreate=useSelector(function(state){return state.eventCreate;});var createEventError=eventCreate.error,createEventLoading=eventCreate.loading,createEvent=eventCreate.event,createEventSuccess=eventCreate.success;// EVENT LIST\nvar eventList=useSelector(function(state){return state.eventList;});var listEventError=eventList.error,listEventLoading=eventList.loading,listEvent=eventList.events;// EVENT DELETE\nvar eventDelete=useSelector(function(state){return state.eventDelete;});var deleteEventError=eventDelete.error,deleteEventLoading=eventDelete.loading,deleteEvent=eventDelete.event,deleteEventSuccess=eventDelete.success;// USEEFFECT\nuseEffect(function(){dispatch(eventListAction());dispatch({type:EVENT_CREATE_RESET});dispatch({type:EVENT_DELETE_RESET});if(createEventSuccess){navigate(\"/event-update/\".concat(createEvent.id,\"/\").concat(createEvent.slug));}},[dispatch,createEventSuccess,deleteEventSuccess]);// CREATE EVENT HANDLER\nvar eventCreateHandler=function eventCreateHandler(){dispatch(eventCreateAction());};// DELETE EVENT HANDLER\nvar eventDeleteHandler=function eventDeleteHandler(id,slug){if(window.confirm(\"Are You Sure You Want To Delete This Items\")){dispatch(eventDeleteAction(id,slug));}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",flexDirection:\"column\",margin:\"50px\"},children:[/*#__PURE__*/_jsx(\"div\",{children:createEventError?/*#__PURE__*/_jsx(ErrorMessage,{type:\"error\",error:createEventError}):createEventError?/*#__PURE__*/_jsx(Loaders,{}):/*#__PURE__*/_jsx(\"button\",{onClick:eventCreateHandler,children:\"Create Event Post\"})}),listEventLoading?/*#__PURE__*/_jsx(Loaders,{}):listEventError?/*#__PURE__*/_jsx(ErrorMessage,{type:\"error\",error:listEventError}):/*#__PURE__*/_jsxs(\"div\",{className:\"post_table\",children:[deleteEventError&&/*#__PURE__*/_jsx(ErrorMessage,{type:\"error\",error:deleteEventError}),/*#__PURE__*/_jsxs(\"table\",{className:\"post_scroll\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"post_header\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"isApproved\"}),/*#__PURE__*/_jsx(\"th\",{children:\"edit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:listEvent.map(function(event){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:event.id}),/*#__PURE__*/_jsx(\"td\",{children:event.title}),/*#__PURE__*/_jsx(\"td\",{children:event.isApproved?\"Yes\":\"No\"}),/*#__PURE__*/_jsx(Link,{to:\"/event-update/\".concat(event.id,\"/\").concat(event.slug),children:/*#__PURE__*/_jsx(\"td\",{children:\"edit\"})}),deleteEventLoading?/*#__PURE__*/_jsx(Loaders,{}):/*#__PURE__*/_jsx(\"td\",{onClick:function onClick(){return eventDeleteHandler(event.id,event.slug);},children:\"Delete\"})]});})})]})]})]});};export default EventCreate;","map":{"version":3,"sources":["/home/cos/Desktop/News_Ad_website/backend/news_all/news_all_frontend/src/createPage/EventCreate.js"],"names":["React","useEffect","useNavigate","useParams","Link","useDispatch","useSelector","Loaders","ErrorMessage","EVENT_CREATE_RESET","EVENT_DELETE_RESET","eventListAction","eventCreateAction","eventDeleteAction","EventCreate","navigate","dispatch","params","eventCreate","state","createEventError","error","createEventLoading","loading","createEvent","event","createEventSuccess","success","eventList","listEventError","listEventLoading","listEvent","events","eventDelete","deleteEventError","deleteEventLoading","deleteEvent","deleteEventSuccess","type","id","slug","eventCreateHandler","eventDeleteHandler","window","confirm","display","justifyContent","alignItems","flexDirection","margin","map","title","isApproved"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useNavigate, useParams, Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\n// COMPONENT IMPORT\nimport Loaders from \"../components/Loader\";\nimport ErrorMessage from \"../components/ErrorMessage\";\n\n// CSS IMPORT\nimport \"../css_styles/Advertise.css\";\n\n// CONSTANT IMPORT\nimport {\n  EVENT_CREATE_RESET,\n  EVENT_DELETE_RESET,\n} from \"../constants/productivityConstants\";\n\n// ACTION IMPORT\nimport {\n  eventListAction,\n  eventCreateAction,\n  eventDeleteAction,\n} from \"../actions/advertiseActions\";\n\n\n\nconst EventCreate = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const params = useParams();\n  // const { id,slug } = params;\n\n\n  // EVENT CREATE\n\n  const eventCreate = useSelector((state) => state.eventCreate);\n  const {\n    error:     createEventError,\n    loading:   createEventLoading,\n    event: createEvent,\n    success: createEventSuccess,\n  } = eventCreate;\n\n  // EVENT LIST\n  const eventList = useSelector((state) => state.eventList);\n  const {\n    error:      listEventError,\n    loading:    listEventLoading,\n    events:listEvent,\n  } = eventList;\n\n  // EVENT DELETE\n  const eventDelete = useSelector((state) => state.eventDelete);\n  const {\n    error:     deleteEventError,\n    loading:   deleteEventLoading,\n    event: deleteEvent,\n    success:   deleteEventSuccess,\n  } = eventDelete;\n\n\n  // USEEFFECT\n\n  useEffect(() => {\n    dispatch(eventListAction());\n    dispatch({ type: EVENT_CREATE_RESET });\n    dispatch({ type: EVENT_DELETE_RESET });\n\n    if (createEventSuccess) {\n      navigate(`/event-update/${createEvent.id}/${createEvent.slug}`);\n    }\n  }, [dispatch, createEventSuccess, deleteEventSuccess]);\n\n\n  // CREATE EVENT HANDLER\n  const eventCreateHandler = () => {\n    dispatch(eventCreateAction());\n  };\n\n  // DELETE EVENT HANDLER\n  const eventDeleteHandler = (id,slug) => {\n    if (window.confirm(\"Are You Sure You Want To Delete This Items\")) {\n      dispatch(eventDeleteAction(id, slug));\n    }\n  };\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n        margin: \"50px\",\n      }}\n    >\n      <div>\n        {createEventError ? (\n          <ErrorMessage type=\"error\" error={createEventError} />\n        ) : createEventError ? (\n          <Loaders />\n        ) : (\n          <button onClick={eventCreateHandler}>Create Event Post</button>\n        )}\n      </div>\n\n      {listEventLoading ? (\n        <Loaders />\n      ) : listEventError ? (\n        <ErrorMessage type=\"error\" error={listEventError} />\n      ) : (\n        <div className=\"post_table\">\n          {deleteEventError && (\n            <ErrorMessage type=\"error\" error={deleteEventError} />\n          )}\n          <table className=\"post_scroll\">\n            <thead>\n              <tr className=\"post_header\">\n                <th>id</th>\n                <th>title</th>\n                <th>isApproved</th>\n                <th>edit</th>\n                <th>delete</th>\n              </tr>\n            </thead>\n            <tbody>\n              {listEvent.map((event) => (\n                <tr>\n                  <td>{event.id}</td>\n                  <td>{event.title}</td>\n                  <td>{event.isApproved ? \"Yes\" : \"No\"}</td>\n                  <Link to={`/event-update/${event.id}/${event.slug}`}>\n                    <td>edit</td>\n                  </Link>\n                  {deleteEventLoading ? (\n                    <Loaders />\n                  ) : (\n                    <td onClick={() => eventDeleteHandler(event.id, event.slug)}>\n                      Delete\n                    </td>\n                  )}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EventCreate;\n"]},"metadata":{},"sourceType":"module"}