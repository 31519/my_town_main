{"ast":null,"code":"import _slicedToArray from\"/home/cos/Desktop/News_Ad_website/backend/news_all/news_all_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import\"../css_styles/Table.css\";import{Link}from\"react-router-dom\";import ErrorMessage from\"../components/ErrorMessage\";import Loaders from\"../components/Loader\";import{makeStyles}from\"@mui/styles\";import{createTheme,ThemeProvider}from\"@mui/material/styles\";import{Grid,Paper,Typography,Avatar,TextField,Button,TableCell,Table,TableBody,TableContainer,TableHead,TableRow,TablePagination,TableFooter}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{table:{minWidth:650},tableContainer:{borderRadius:15,margin:\"10px 10px\",maxWidth:950},tableHeaderCell:{fontWeight:\"bold\",backgroundColor:\"black\",color:\"blue\"// backgroundColor: theme.palette.primary.dark,\n// color: theme.palette.getContrastText(theme.palette.primary.dark)\n},avatar:{// backgroundColor: theme.palette.primary.light,\n// color: theme.palette.getContrastText(theme.palette.primary.light)\n},name:{fontWeight:\"bold\",// color: theme.palette.secondary.dark\ncolor:\"green\"},status:{fontWeight:\"bold\",fontSize:\"0.75rem\",color:\"white\",backgroundColor:\"grey\",borderRadius:8,padding:\"3px 10px\",display:\"inline-block\"}};});var AdminTable=function AdminTable(_ref){var createModelError=_ref.createModelError,modelCreateHandler=_ref.modelCreateHandler,listModelLoading=_ref.listModelLoading,listModelError=_ref.listModelError,deleteModelError=_ref.deleteModelError,listModel=_ref.listModel,deleteModelLoading=_ref.deleteModelLoading,modelDeleteHandler=_ref.modelDeleteHandler,redirect=_ref.redirect;// const cats = cat;\nvar classes=useStyles();var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),page=_React$useState2[0],setPage=_React$useState2[1];var _React$useState3=React.useState(15),_React$useState4=_slicedToArray(_React$useState3,2),rowsPerPage=_React$useState4[0],setRowsPerPage=_React$useState4[1];var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(+event.target.value);setPage(0);};return/*#__PURE__*/_jsx(\"div\",{children:listModelLoading?/*#__PURE__*/_jsx(Loaders,{}):listModelError?/*#__PURE__*/_jsx(ErrorMessage,{type:\"error\",error:listModelError}):/*#__PURE__*/_jsxs(TableContainer,{component:Paper,className:classes.tableContainer,children:[createModelError?/*#__PURE__*/_jsx(ErrorMessage,{type:\"error\",error:createModelError}):createModelError?/*#__PURE__*/_jsx(Loaders,{}):/*#__PURE__*/_jsxs(Button,{className:classes.status,onClick:modelCreateHandler,children:[\"Create \",redirect,\" Post\"]}),deleteModelError&&/*#__PURE__*/_jsx(ErrorMessage,{type:\"error\",error:deleteModelError}),/*#__PURE__*/_jsx(Grid,{children:listModel.length}),/*#__PURE__*/_jsxs(Table,{className:classes.table,\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Title\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Created At\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Approved\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Edit\"}),/*#__PURE__*/_jsx(TableCell,{className:classes.tableHeaderCell,children:\"Delete\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:listModel.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(model){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsx(Grid,{item:true,lg:12,children:/*#__PURE__*/_jsx(Typography,{className:classes.name,children:model.title})})})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{color:\"primary\",variant:\"subtitle2\",children:model.createdAt})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{className:classes.status,style:{backgroundColor:model.isApproved===true&&\"green\"||model.isApproved===false&&\"red\"},children:model.isApproved?\"Approved\":\"Not yet\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Link,{to:\"/\".concat(redirect,\"-update/\").concat(model.id,\"/\").concat(model.slug),children:/*#__PURE__*/_jsx(Typography,{className:classes.status,children:\"Edit\"})})}),/*#__PURE__*/_jsx(TableCell,{children:deleteModelLoading?/*#__PURE__*/_jsx(Loaders,{}):/*#__PURE__*/_jsx(Button,{className:classes.status,onClick:function onClick(){return modelDeleteHandler(model.id,model.slug);},children:\"Delete\"})})]},model.id);})}),/*#__PURE__*/_jsx(TableFooter,{children:/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,15],component:\"div\",count:listModel.length,rowsPerPage:rowsPerPage,page:page,onChangePage:handleChangePage,onChangeRowsPerPage:handleChangeRowsPerPage})})]})]})});};export default AdminTable;","map":{"version":3,"sources":["/home/cos/Desktop/News_Ad_website/backend/news_all/news_all_frontend/src/components/Table.js"],"names":["React","Link","ErrorMessage","Loaders","makeStyles","createTheme","ThemeProvider","Grid","Paper","Typography","Avatar","TextField","Button","TableCell","Table","TableBody","TableContainer","TableHead","TableRow","TablePagination","TableFooter","useStyles","theme","table","minWidth","tableContainer","borderRadius","margin","maxWidth","tableHeaderCell","fontWeight","backgroundColor","color","avatar","name","status","fontSize","padding","display","AdminTable","createModelError","modelCreateHandler","listModelLoading","listModelError","deleteModelError","listModel","deleteModelLoading","modelDeleteHandler","redirect","classes","useState","page","setPage","rowsPerPage","setRowsPerPage","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","length","slice","map","model","title","createdAt","isApproved","id","slug"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../css_styles/Table.css\";\nimport { Link } from \"react-router-dom\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport Loaders from \"../components/Loader\";\nimport { makeStyles } from \"@mui/styles\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport {\n  Grid,\n  Paper,\n  Typography,\n  Avatar,\n  TextField,\n  Button,\n  TableCell,\n  Table,\n  TableBody,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TablePagination,\n  TableFooter,\n} from \"@mui/material\";\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    minWidth: 650,\n  },\n  tableContainer: {\n    borderRadius: 15,\n    margin: \"10px 10px\",\n    maxWidth: 950,\n  },\n  tableHeaderCell: {\n    fontWeight: \"bold\",\n    backgroundColor: \"black\",\n    color: \"blue\",\n    // backgroundColor: theme.palette.primary.dark,\n    // color: theme.palette.getContrastText(theme.palette.primary.dark)\n  },\n  avatar: {\n    // backgroundColor: theme.palette.primary.light,\n    // color: theme.palette.getContrastText(theme.palette.primary.light)\n  },\n  name: {\n    fontWeight: \"bold\",\n    // color: theme.palette.secondary.dark\n    color: \"green\",\n  },\n  status: {\n    fontWeight: \"bold\",\n    fontSize: \"0.75rem\",\n    color: \"white\",\n    backgroundColor: \"grey\",\n    borderRadius: 8,\n    padding: \"3px 10px\",\n    display: \"inline-block\",\n  },\n}));\n\n\nconst AdminTable = ({\n  createModelError,\n  modelCreateHandler,\n  listModelLoading,\n  listModelError,\n  deleteModelError,\n  listModel,\n  deleteModelLoading,\n  modelDeleteHandler,\n  redirect,\n}) => {\n  // const cats = cat;\n  const classes = useStyles();\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(15);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  return (\n    <div>\n      {listModelLoading ? (\n        <Loaders />\n      ) : listModelError ? (\n        <ErrorMessage type=\"error\" error={listModelError} />\n      ) : (\n\n      \n      <TableContainer component={Paper} className={classes.tableContainer}>\n        {createModelError ? (\n          <ErrorMessage type=\"error\" error={createModelError} />\n        ) : createModelError ? (\n          <Loaders />\n        ) : (\n          <Button className={classes.status} onClick={modelCreateHandler}>\n            Create {redirect} Post\n          </Button>\n        )}\n\n        {deleteModelError && (\n          <ErrorMessage type=\"error\" error={deleteModelError} />\n        )}\n        <Grid>{listModel.length}</Grid>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell className={classes.tableHeaderCell}>Title</TableCell>\n              <TableCell className={classes.tableHeaderCell}>\n                Created At\n              </TableCell>\n              <TableCell className={classes.tableHeaderCell}>\n                Approved\n              </TableCell>\n              <TableCell className={classes.tableHeaderCell}>Edit</TableCell>\n              <TableCell className={classes.tableHeaderCell}>Delete</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {listModel.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((model) => (\n              <TableRow key={model.id}>\n                <TableCell>\n                  <Grid container>\n                    {/* <Grid item lg={2}>\n                          <Avatar alt={model.id} src='.' className={classes.avatar}/>\n                      </Grid> */}\n                    <Grid item lg={12}>\n                      <Typography className={classes.name}>\n                        {model.title}\n                      </Typography>\n                      {/* <Typography color=\"textSecondary\" variant=\"body2\">{row.email}</Typography>\n                          <Typography color=\"textSecondary\" variant=\"body2\">{row.phone}</Typography> */}\n                    </Grid>\n                  </Grid>\n                </TableCell>\n                <TableCell>\n                  <Typography color=\"primary\" variant=\"subtitle2\">\n                    {model.createdAt}\n                  </Typography>\n                  {/* <Typography color=\"textSecondary\" variant=\"body2\">{row.company}</Typography> */}\n                </TableCell>\n                <TableCell>\n                  <Typography\n                    className={classes.status}\n                    style={{\n                      backgroundColor:\n                        (model.isApproved === true && \"green\") ||\n                        (model.isApproved === false && \"red\"),\n                    }}\n                  >\n                    {model.isApproved ? \"Approved\" : \"Not yet\"}\n                  </Typography>\n                </TableCell>\n                <TableCell>\n                  <Link to={`/${redirect}-update/${model.id}/${model.slug}`}>\n                    <Typography className={classes.status}>Edit</Typography>\n                  </Link>\n                </TableCell>\n                <TableCell>\n                  {deleteModelLoading ? (\n                    <Loaders />\n                  ) : (\n                    <Button\n                      className={classes.status}\n                      onClick={() => modelDeleteHandler(model.id, model.slug)}\n                    >\n                      Delete\n                    </Button>\n                  )}\n                </TableCell>\n              </TableRow>\n              \n            ))}\n\n          </TableBody>\n          <TableFooter>\n            <TablePagination\n            rowsPerPageOptions={[5, 10, 15]}\n            component=\"div\"\n            count={listModel.length}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n        />\n          </TableFooter>\n        </Table>\n      </TableContainer>\n\n  )}\n\n      {/* <div>\n        {createModelError ? (\n          <ErrorMessage type=\"error\" error={createModelError} />\n        ) : createModelError ? (\n          <Loaders />\n        ) : (\n          <button onClick={modelCreateHandler}>Create {redirect} Post</button>\n        )}\n      </div>\n\n      {listModelLoading ? (\n        <Loaders />\n      ) : listModelError ? (\n        <ErrorMessage type=\"error\" error={listModelError} />\n      ) : (\n        <div className=\"post_table\">\n          {deleteModelError && (\n            <ErrorMessage type=\"error\" error={deleteModelError} />\n          )}\n          <table className=\"post_scroll\">\n            <thead>\n              <tr className=\"post_header\">\n                <th>id</th>\n                <th>title</th>\n                <th>isApproved</th>\n                <th>edit</th>\n                <th>delete</th>\n              </tr>\n            </thead>\n            <tbody>\n              {listModel.map((model) => (\n                <tr>\n                  <td>{model.id}</td>\n                  <td>{model.title}</td>\n                  <td>{model.isApproved ? \"Yes\" : \"No\"}</td>\n                  <Link to={`/${redirect}-update/${model.id}`}>\n                    <td>edit</td>\n                  </Link>\n                  {deleteModelLoading ? (\n                    <Loaders />\n                  ) : (\n                    <td onClick={() => modelDeleteHandler(model.id)}>\n                      Delete\n                    </td>\n                  )}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )} */}\n      \n    </div>\n  );\n};\n\nexport default AdminTable;\n"]},"metadata":{},"sourceType":"module"}